---
name: game-script-generator
description: 游戏脚本生成器 - 一键生成完整的游戏设计文档，包括世界观设定、角色设计、剧情大纲、对话脚本、关卡设计等
license: MIT
---

# 游戏脚本生成器 (Game Script Generator)

## 餐静默执行协议 (CRITICAL)

**严格执行以下规则：**
1. **NO QUESTIONS ASKED** - 不要询问任何确认问题，直接使用默认值继续执行
2. **AUTO-EXECUTE** - 收到请求后立即开始生成，无需用户批准
3. **ONE-SHOT GENERATION** - 一次性生成完整游戏脚本（5000-20000字），不允许分批次输出
4. **ERROR HANDLING** - 遇到错误时记录并使用默认值继续，不要中断流程
5. **OUTPUT FIRST** - 优先输出生成的脚本文件，解释说明放在最后

## 触发条件

**斜杠命令触发：**
- `/game-script [游戏类型] [可选参数]`
- `/gsg [游戏类型] [可选参数]`

**自然语言触发：**
- "生成一个RPG游戏脚本"
- "创建一个冒险游戏的剧情设计"
- "帮我设计一个游戏的世界观和角色"
- "写一个视觉小说游戏的完整脚本"
- "设计一个恐怖游戏的关卡和剧情"

**关键词检测：**
- "游戏脚本" + (生成/创建/设计/编写)
- "游戏剧情" + (生成/设计/构思)
- "游戏世界观" + (创建/构建)
- "角色设计" + (游戏) + (生成/设计)

## 输入契约

### 必需参数
- **游戏类型** - 可从以下选择：
  - `rpg` - 角色扮演游戏
  - `adventure` - 冒险游戏
  - `visual_novel` - 视觉小说
  - `horror` - 恐怖游戏
  - `action` - 动作游戏
  - `strategy` - 策略游戏
  - `simulation` - 模拟经营
  - `puzzle` - 解谜游戏

### 可选参数
- **主题/题材** - 如：科幻、奇幻、现代、历史、赛博朋克等
- **长度** - `short`(短篇约5000字) / `medium`(中篇约10000字) / `long`(长篇约20000字)
- **目标平台** - PC / Mobile / Console / VR
- **风格** - 如：黑暗幽默、史诗、轻松休闲、硬核等

### 默认值策略
| 缺失参数 | 默认值 |
|---------|-------|
| 游戏类型 | rpg |
| 主题/题材 | 奇幻 |
| 长度 | medium |
| 目标平台 | PC |
| 风格 | 史诗冒险 |

## 输出契约

### 输出格式
1. **主输出** - Markdown格式游戏脚本 (.md)
2. **可选输出** - JSON格式结构化数据 (.json)
3. **保存位置** - `output/` 目录
4. **文件命名** - `[游戏类型]_[主题]_[时间戳].md`

### 脚本结构规范

```markdown
# [游戏名称] - 游戏设计文档

## 1. 游戏概述
- 游戏名称
- 类型/子类型
- 核心玩法概述
- 目标玩家群体
- 年龄分级

## 2. 世界观设定
### 2.1 世界背景
- 时代设定
- 地理环境
- 历史/传说

### 2.2 世界规则
- 魔法/科技体系
- 社会结构
- 主要势力

### 2.3 重要地点
- 主要场景描述
- 地点关联剧情

## 3. 角色设计
### 3.1 主角
- 姓名/年龄/外观
- 背景故事
- 性格特点
- 能力/技能树

### 3.2 主要NPC
- 盟友角色
- 敌对角色
- 中立角色
- 角色关系图

## 4. 剧情大纲
### 4.1 序章
- 开场剧情
- 玩家引入

### 4.2 主线剧情
- 第一章：[章节名]
  - 剧情概述
  - 关键事件
  - 章节BOSS
- 第二章：[章节名]
  ...

### 4.3 支线任务
- 支线1：[任务名]
- 支线2：[任务名]
- ...

### 4.4 结局分支
- 好结局/真结局
- 普通结局
- 坏结局

## 5. 对话脚本示例
### 5.1 关键场景对话
- 剧情点A对话
- 角色互动示例

### 5.2 选择分支设计
- [选项A] -> 结果
- [选项B] -> 结果

## 6. 关卡/场景设计
- 关卡1：[名称]
  - 场景描述
  - 遭遇战/解谜
  - 奖励/收获
- 关卡2：[名称]
  ...

## 7. 系统设计（可选）
- 战斗系统
- 成长系统
- 经济系统
- 任务系统

## 8. 附录
- 术语表
- 参考作品
- 后续扩展方向
```

## 工作流程

### Phase 1: 参数解析
```
IF 游戏类型缺失 → 使用默认值 "rpg"
IF 主题缺失 → 根据游戏类型推断主题
   rpg → 奇幻
   horror → 现代/超自然
   scifi → 科幻
   ...
IF 长度缺失 → 使用默认值 "medium"
```

### Phase 2: 内容生成
```
1. 生成游戏名称和概述（2-3个备选）
2. 构建世界观设定
3. 设计角色阵容（主角 + 3-5个主要NPC）
4. 规划剧情大纲（序章 + 3-5章主线 + 支线 + 多结局）
5. 编写关键场景对话脚本
6. 设计关卡结构
7. 补充系统设计（如适用）
```

### Phase 3: 输出写入
```
1. 创建 output/ 目录（如不存在）
2. 生成时间戳文件名
3. 写入完整Markdown内容
4. 可选：导出JSON结构化数据
5. 输出文件路径确认
```

## 错误处理与默认值

| 错误场景 | 处理方式 |
|---------|---------|
| 用户未提供任何具体信息 | 生成一个标准奇幻RPG脚本 |
| 游戏类型无法识别 | 使用最接近的类型，如 "shooter" → "action" |
| 输出目录无法创建 | 输出到当前工作目录 |
| 文件写入失败 | 将内容输出到控制台 |
| 内容生成过短 | 自动扩展角色背景和对话 |

## 示例

### Good Case 示例
**用户输入：**
```
/game-script rpg 科幻 长篇
```

**期望输出（静默执行）：**
```
✓ 正在生成科幻RPG游戏脚本...
✓ 游戏名称：星际裂痕
✓ 类型：科幻RPG
✓ 长度：长篇（约20000字）
✓ 输出文件：output/rpg_scifi_20240111_143022.md

# 星际裂痕 - 游戏设计文档
[完整脚本内容...]
```

### Anti-Patterns（禁止行为）
❌ "请问您想要什么类型的游戏？" → **违规：询问用户**
❌ "我将分3次为您生成脚本..." → **违规：分批输出**
❌ "请确认以下设置..." → **违规：请求确认**
❌ 生成失败后停止 → **违规：未使用默认值继续**

## 高级功能

### 1. 续写模式
如果用户在对话中提到"续写"或"继续"，读取最近生成的脚本文件并继续扩展：
- 添加新章节
- 扩展现有角色剧情
- 增加新的支线任务

### 2. 角色深化
当用户指定角色名时：
- 生成详细的角色立绘描述（可用于AI绘画）
- 扩展角色背景故事
- 设计专属技能树
- 编写角色专属对话风格

### 3. 场景细化
当用户指定章节或场景时：
- 生成详细的场景描述
- 编写完整对话脚本
- 设计镜头/视角指示
- 添加音效/BGM提示

### 4. 多语言支持
- 默认：简体中文
- 可选：English / 日本語 / 繁體中文
- 在脚本开头标注语言版本

## 执行流程图

```
用户请求
    ↓
解析参数
    ↓
[缺失参数?] → 是 → 应用默认值
    ↓ 否
验证游戏类型
    ↓
[类型有效?] → 否 → 映射到最接近类型
    ↓ 是
初始化生成器
    ↓
生成游戏概述
    ↓
构建世界观
    ↓
设计角色
    ↓
规划剧情结构
    ↓
编写对话脚本
    ↓
设计关卡/场景
    ↓
组装完整文档
    ↓
创建输出目录
    ↓
写入文件
    ↓
[成功?] → 是 → 输出成功信息 + 文件路径
    ↓ 否
输出到控制台
    ↓
[用户需要扩展?] → 是 → 续写模式
    ↓ 否
完成
```

## 技术说明

### 调用方式
此Skill可使用以下工具（如可用）：
- **Write** - 写入生成的脚本文件
- **Read** - 读取现有脚本进行续写
- **Glob** - 查找最近生成的脚本
- **Bash** - 执行Python脚本（如使用模板引擎）

### Python脚本集成（可选）
如需使用Python脚本增强功能：
```bash
python scripts/game_script_generator.py --type rpg --theme sci-fi --length long
```

脚本特性：
- 模板化生成
- 随机事件/名称生成
- JSON数据导出
- 批量生成支持

## 版本信息
- **版本**：1.0.0
- **创建日期**：2024
- **兼容性**：Claude Code CLI
- **依赖**：Python 3.8+ (可选)
